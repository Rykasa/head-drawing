const references = [
    {
        id: 1,
        src: 'mikasa.jpg',
        view: "3/4"
    },
    {
        id: 2,
        src: 'ley-bowen-.jpg',
        view: "3/4"
    },
    {
        id: 3,
        src: 'https://i.pinimg.com/564x/1a/3e/f0/1a3ef030100f214e05553196dd66254d.jpg',
        view: "3/4"
    },
    {
        id: 4,
        src: 'https://i.pinimg.com/564x/e2/d4/2c/e2d42c8ab021fdfa75455a0608bbf38b.jpg',
        view: "profile"
    },
    {
        id: 5,
        src: 'https://i.pinimg.com/564x/76/16/cb/7616cbf58299d7dd42380d2971bf9578.jpg',
        view: "profile"
    },
    {
        id: 6,
        src: 'https://i.pinimg.com/564x/c4/4d/90/c44d90bc75525fcdf9814535d80322a0.jpg',
        view: "3/4"
    },
    {
        id: 7,
        src: 'https://i.pinimg.com/564x/15/2b/13/152b138f07dbab9cdbeb179a80e0410c.jpg',
        view: "3/4"
    },
    {
        id: 8,
        src: 'https://i.pinimg.com/564x/5b/a7/a8/5ba7a8fb3ac4f4eb0196f0930da92897.jpg',
        view: "3/4"
    },
    {
        id: 9,
        src: 'https://i.pinimg.com/564x/b7/b0/17/b7b01715c1ff17e8996d35b5e137904a.jpg',
        view: "front"
    },
    {
        id: 10,
        src: 'https://i.pinimg.com/564x/b9/19/45/b919452a9776944bd44e7699ba4950c5.jpg',
        view: "profile"
    },
    {
        id: 11,
        src: 'https://i.pinimg.com/564x/c4/aa/3e/c4aa3ef90bde0e55ed76e224d4bdbd94.jpg',
        view: "front"
    },
    {
        id: 12,
        src: 'https://i.pinimg.com/564x/bb/70/c0/bb70c015c4e0118a67985351fe913501.jpg',
        view: "3/4"
    },
    {
        id: 13,
        src: 'https://i.pinimg.com/564x/fa/6f/bb/fa6fbb4b18405a957ecf904fd3a0a979.jpg',
        view: "profile"
    },
    {
        id: 14,
        src: 'https://i.pinimg.com/564x/4b/81/76/4b81764283629f8e9143a0dde50c2ed1.jpg',
        view: "profile"
    },
    {
        id: 15,
        src: 'https://i.pinimg.com/564x/36/42/14/36421406742fc1007951cb6a6fdc9fef.jpg',
        view: "3/4"
    },
    {
        id: 16,
        src: 'https://i.pinimg.com/564x/75/a4/1d/75a41d14fe75ad2b077f235333409519.jpg',
        view: "3/4"
    },
    {
        id: 17,
        src: 'https://i.pinimg.com/564x/fa/45/07/fa4507aeedb19b5a942db15f514f4a1a.jpg',
        view: "3/4"
    },
    {
        id: 18,
        src: 'https://i.pinimg.com/564x/98/96/47/98964775c94aac50e91c58cd05cfdf40.jpg',
        view: "front"
    },
    {
        id: 19,
        src: 'https://i.pinimg.com/564x/88/b9/fc/88b9fc6675b1c59415cbd65bf99cbf16.jpg',
        view: "profile"
    },
    {
        id: 20,
        src: 'https://i.pinimg.com/564x/48/4b/ff/484bff6c38d71fafb3c9d3b446768380.jpg',
        view: "profile"
    },
    {
        id: 21,
        src: 'https://i.pinimg.com/564x/c0/56/82/c056820b679a418e6487faa6977c5d83.jpg',
        view: "3/4"
    },
    {
        id: 22,
        src: 'https://i.pinimg.com/564x/6d/28/0e/6d280e1290f5e6b3992054369caacd8d.jpg',
        view: "front"
    },
    {
        id: 23,
        src: 'https://i.pinimg.com/564x/41/f6/1b/41f61b4c9030ed37ac672ad4fd6fc816.jpg',
        view: "3/4"
    },
    {
        id: 24,
        src: 'https://i.pinimg.com/564x/a8/32/12/a83212e7d37fe434eb42f50499faaae0.jpg',
        view: "3/4"
    },
    {
        id: 25,
        src: 'https://i.pinimg.com/564x/64/52/70/6452709e8747e846bed5d45f48a48c90.jpg',
        view: "3/4"
    },
    {
        id: 26,
        src: 'https://i.pinimg.com/564x/75/d9/34/75d934fbf879358015d1fb40a24df956.jpg',
        view: "3/4"
    },
    {
        id: 27,
        src: 'https://i.pinimg.com/564x/50/12/a8/5012a8b870d6a7db9fde5e727f57344d.jpg',
        view: "profile"
    },
    {
        id: 28,
        src: 'https://i.pinimg.com/564x/31/8a/82/318a824055cf945b32f82e50df173972.jpg',
        view: "3/4"
    },
    {
        id: 29,
        src: 'https://i.pinimg.com/564x/32/f4/e4/32f4e417a05e1685d80744189d2c5ec6.jpg',
        view: "3/4"
    },
    {
        id: 30,
        src: 'https://i.pinimg.com/564x/af/c5/f6/afc5f65e21ecb28415064d9f9bc95baa.jpg',
        view: "3/4"
    },
    {
        id: 31,
        src: 'https://i.pinimg.com/564x/e4/4d/ac/e44dac795f8e20e46db901f44dccb073.jpg',
        view: "profile"
    },
    {
        id: 32,
        src: 'https://i.pinimg.com/564x/c7/8c/ae/c78cae03b34c58ad2df34411940107c6.jpg',
        view: "3/4"
    },
    {
        id: 33,
        src: 'https://i.pinimg.com/564x/f2/ff/3b/f2ff3b0804bf1b1311520b9841de886c.jpg',
        view: "3/4"
    },
    {
        id: 34,
        src: 'https://i.pinimg.com/564x/3c/ce/2b/3cce2b6a92bccaf97a7bdc08cfbd32b8.jpg',
        view: "3/4"
    },
    {
        id: 35,
        src: 'https://i.pinimg.com/564x/10/0b/53/100b53f7eb60ec7dd6847d52383ce58c.jpg',
        view: "3/4"
    },
    {
        id: 36,
        src: 'https://i.pinimg.com/564x/97/2c/58/972c58ce25d1e0bc96f2a787d254c26c.jpg',
        view: "profile"
    },
    {
        id: 37,
        src: 'https://i.pinimg.com/564x/d4/0b/67/d40b6712fa78c095b68447d6241cd3d1.jpg',
        view: "profile"
    },
    {
        id: 38,
        src: 'https://i.pinimg.com/564x/fe/14/8d/fe148d95ffe35d216bffda50309143a3.jpg',
        view: "3/4"
    },
    {
        id: 39,
        src: 'https://i.pinimg.com/564x/01/f3/6c/01f36cf8c1761644ea683aaf5c8a6b16.jpg',
        view: "3/4"
    },
    {
        id: 40,
        src: 'https://i.pinimg.com/564x/ce/d3/13/ced313932fa0b08ba0e995f99a01b0c3.jpg',
        view: "profile"
    },
    {
        id: 41,
        src: 'https://i.pinimg.com/564x/95/95/04/959504b7d9e172fb2b723f007eafc0fe.jpg',
        view: "3/4"
    },
    {
        id: 42,
        src: 'https://i.pinimg.com/564x/35/a5/6f/35a56fa3873c641313fa498433cd2823.jpg',
        view: "3/4"
    },
    {
        id: 43,
        src: 'https://i.pinimg.com/564x/bf/1c/43/bf1c43b5109a62df439d2210d48d6646.jpg',
        view: "3/4"
    },
    {
        id: 44,
        src: 'https://i.pinimg.com/564x/0a/f9/fd/0af9fd160afe3aa900148f015cb2461e.jpg',
        view: "profile"
    },
    {
        id: 45,
        src: 'https://i.pinimg.com/564x/a0/56/88/a056881cf4454173d5b418ea6b54bcd9.jpg',
        view: "front"
    },
    {
        id: 46,
        src: 'https://i.pinimg.com/564x/4e/fd/c3/4efdc337268bf7b4f754a5e76ce81ec4.jpg',
        view: "3/4"
    },
    {
        id: 47,
        src: 'https://i.pinimg.com/564x/b0/76/f3/b076f359fc36d7c8358dca96cb225358.jpg',
        view: "3/4"
    },
    {
        id: 48,
        src: 'https://i.pinimg.com/564x/ed/cb/b9/edcbb969e8268e4c525967375c1e3a52.jpg',
        view: "3/4"
    },
    {
        id: 49,
        src: 'https://i.pinimg.com/564x/f9/0c/29/f90c292ba0b0bd205bae073b313c4b49.jpg',
        view: "3/4"
    },
    {
        id: 50,
        src: 'https://i.pinimg.com/564x/ba/fc/90/bafc909e9201b613d00111d3f67ee6fc.jpg',
        view: "3/4"
    },
    {
        id: 51,
        src: 'https://i.pinimg.com/564x/b9/1a/ae/b91aae728d0be1b58e89292d5d9a4401.jpg',
        view: "3/4"
    },
    {
        id: 52,
        src: 'https://i.pinimg.com/564x/4a/41/86/4a41867fbedea4ad7f14eaed9462d766.jpg',
        view: "3/4"
    },
    {
        id: 53,
        src: 'https://i.pinimg.com/564x/1c/39/8e/1c398e7d5776705ab406450c72c872ae.jpg',
        view: "profile"
    },
    {
        id: 54,
        src: 'https://i.pinimg.com/564x/5a/c9/12/5ac91233dbc7cf4591d5d47dee7cd17c.jpg',
        view: "profile"
    },
    {
        id: 55,
        src: 'https://i.pinimg.com/564x/bb/85/68/bb85682f38153af2022126d501108e9f.jpg',
        view: "front"
    },
    {
        id: 56,
        src: 'https://i.pinimg.com/564x/36/21/20/3621205d85030e0a758b04d00ee477bc.jpg',
        view: "front"
    },
    {
        id: 57,
        src: 'https://i.pinimg.com/564x/7d/05/a4/7d05a4d4cfad6f83ac91b1bee5dc8f42.jpg',
        view: "profile"
    },
    {
        id: 58,
        src: 'https://i.pinimg.com/564x/17/35/87/1735870229251a3e53caba3282be8f53.jpg',
        view: "3/4"
    },
    {
        id: 59,
        src: 'https://i.pinimg.com/564x/ab/a7/34/aba73498bfcd375366423451d4342176.jpg',
        view: "front"
    },
    {
        id: 60,
        src: 'https://i.pinimg.com/564x/02/93/47/0293473dbfc8c44e43d58213970ab412.jpg',
        view: "front"
    },
    {
        id: 61,
        src: 'https://i.pinimg.com/564x/60/1d/6e/601d6e42b4e15849969aa8b91ac8a4a6.jpg',
        view: "3/4"
    }
]

const min = document.querySelector('.minute')
const sec = document.querySelector('.second')
const startBtn = document.querySelector('.start-btn')
const stopBtn = document.querySelector('.stop-btn')
const modal = document.querySelector('.modal')
const time = document.querySelector('.time')
const img = document.querySelector('.reference-img')
const pauseBtn = document.querySelector('.pause-btn')
const skipBtn = document.querySelector('.skip-btn')
const resume = document.querySelector('.continue')
const continueBtn = document.querySelector('.continue-btn')

startBtn.addEventListener('click', () => {
    modal.classList.toggle('change')
    changeReference()
    if(min.value == ""){
        minutes = 3
    }else{
        minutes = min.value
    }
    if(sec.value == ""){
        seconds = 0
    }else{
        seconds = sec.value
    }
    start()
})

stopBtn.addEventListener('click', () => {
    modal.classList.toggle('change')
    clearInterval(int)
})

pauseBtn.addEventListener('click', () => {
    // clearInterval(int)
    // resume.classList.add('change')
    pause()
})

function pause(){
    if(!pauseBtn.classList.contains('paused')){
        clearInterval(int)
        pauseBtn.textContent = "Continuar"
        pauseBtn.classList.add('paused')
    }else{
        start()
        pauseBtn.textContent = "Pausar"
        pauseBtn.classList.remove('paused')
    }
}

continueBtn.addEventListener('click', () => {
    resume.classList.remove('change')
    start()
})

skipBtn.addEventListener('click', () => {
    clearInterval(int)
    changeReference()
    minutes = min.value
    seconds = sec.value
    start()
})

function changeReference(){
    img.src = references[Math.floor(Math.random() * references.length)].src
}

let seconds
let minutes 

let int

function start(){
    int = setInterval(watch, 1000)
}

function stop(){
    clearInterval(int)
    seconds = 0
    minutes = 0
    time.textContent = "00:00"
}

function watch(){
    seconds--
    if(seconds < 0){
        minutes--
        seconds = 60
    }

    if(seconds == 0 && minutes == 0){
        minutes = min.value
        seconds = sec.value
        changeReference()
    }

    time.textContent = twoDigits(minutes) + ":" + twoDigits(seconds)
}

function twoDigits(digit){
    if(digit < 10){
        return "0" + digit
    }else{
        return digit
    }
}

// Validação de dados

min.addEventListener('keypress', function(e){
    if(!checkChar(e)){
        e.preventDefault()
    }
})

sec.addEventListener('keypress', e =>{
    if(!checkChar(e)){
        e.preventDefault()
    }
})

// Verifica se é número
function checkChar(e){
    const char = String.fromCharCode(e.keyCode)
    console.log(char)

    const pattern = `[0-9]`

    if(char.match(pattern)){
        return true
    }
}


